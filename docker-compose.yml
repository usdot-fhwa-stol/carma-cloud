version: "2"
services:
 carma-cloud:
    image: usdotfhwastol/carma-cloud:carma-system-4.6.1
    network_mode: host
    extra_hosts:
      carmacloud: "127.0.0.1"
    container_name: carma-cloud
    volumes:
      - ./carmacloudvol/logs:/opt/tomcat/logs
      - ./carmacloudvol/work/carmacloud/xodr:/opt/tomcat/work/carmacloud/xodr
      - ./carma-cloud-config/server.xml:/opt/tomcat/conf/server.xml
      - ./carmacloudvol/log4j2.properties:/opt/tomcat/webapps/carmacloud/WEB-INF/classes/log4j2.properties
      - ./carmacloudvol/web.xml:/opt/tomcat/webapps/carmacloud/ROOT/WEB-INF/web.xml
      - ./web/mapbox/sourcelayers.json:/opt/tomcat/webapps/carmacloud/ROOT/mapbox/sourcelayers.json
      - ./web/mapbox/validatexodr_sourcelayers.json:/opt/tomcat/webapps/carmacloud/ROOT/mapbox/validatexodr_sourcelayers.json
      - ./web/mapbox/satellite-streets-v11.json:/opt/tomcat/webapps/carmacloud/ROOT/mapbox/satellite-streets-v11.json
      # File needs to be moved
      - ./carmacloudvol/carma-cloud.com.p12:/opt/tomcat/webapps/carmacloud/carma-cloud.com.p12